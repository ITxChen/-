import{a4 as e,aq as r,M as t}from"./index-071c8e17.js";function i(e,r=3){let t=[];return e.replace(/<img [^>]*src=['"]([^'"]+)[^>]*>/g,((e,r)=>{t.push(r)})),t=t.slice(0,r),t}function n(){return new Promise(((r,t)=>{let i=e("historyProvince");i?Date.now()-i.time>36e5?a().then((e=>{r(e)})).catch((e=>{t(e)})):r(i.province):a().then((e=>{r(e)})).catch((e=>{t(e)}))}))}function a(){return new Promise(((e,i)=>{r({url:"https://restapi.amap.com/v3/ip?Key=0c807e057e6b17db95b453dbdd25a825",success:r=>{let i="";i="string"==typeof r.data.province?r.data.province:"火星",e(i);let n={province:i,time:Date.now()};t("historyProvince",n)},fail:e=>{i(e)}})}))}function s(e){return e.user_id[0].nickname||e.user_id[0].username||e.user_id[0].mobile||"请设置昵称"}function c(e){var r,t;return(null==(t=null==(r=e.user_id[0])?void 0:r.avatar_file)?void 0:t.url)??"../../static/images/user-default.jpg"}export{n as a,i as b,c,s as g};
