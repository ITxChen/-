import{H as a,D as l,m as s,p as e,o as t,c as A,w as c,i,f as u,q as f,a as n,t as o,d,J as r,z as I,A as m,r as g,l as p}from"./index-071c8e17.js";import{_ as x}from"./uni-dateformat.fdd7d24f.js";import{r as _}from"./uni-app.es.af5b3bc2.js";import{s as Q,m as k}from"./store.7e8d93e4.js";import{_ as M}from"./_plugin-vue_export-helper.1b428a4d.js";const Z=M({__name:"self",setup(M){const Z=a((()=>Q.userInfo)),b=a((()=>Q.hasLogin)),y=()=>{r({title:"是否确定退出",success:a=>{k.logout()}})},D=()=>{I({url:"/uni_modules/uni-id-pages/pages/userinfo/userinfo"})},N=()=>{I({url:"/pages/quanzi_article/list"})},h=()=>{I({url:"/pages/quanzi_like/list"})},z=()=>{I({url:"/uni_modules/uni-feedback/pages/opendb-feedback/opendb-feedback"})},E=l.database(),R=s(0),v=s(0);return e((()=>{(async()=>{await E.collection("quanzi_article").where("user_id == $cloudEnv_uid").get().then((a=>{v.value=a.result.data.length})),await E.collection("quanzi_article").where("user_id == $cloudEnv_uid").groupBy("user_id").groupField("sum(like_count) as totalScore").get().then((a=>{R.value=a.result.data[0].totalScore}))})()})),(a,l)=>{const s=m,e=i,r=_(g("uni-dateformat"),x),I=p;return t(),A(e,{class:"user"},{default:c((()=>[u(e,{class:"top"},{default:c((()=>[u(e,{class:"group"},{default:c((()=>[u(e,{class:"userinfo",onClick:D},{default:c((()=>[u(e,{class:"pic"},{default:c((()=>[f(b)&&f(Z).avatar_file&&f(Z).avatar_file.url?(t(),A(s,{key:0,src:f(Z).avatar_file.url,mode:"aspectFill"},null,8,["src"])):(t(),A(s,{key:1,src:"data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMsaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpEMjFDQzJGQUVCQzUxMUVDOTZDOUIyNzMxNjE3N0JEMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpEMjFDQzJGQkVCQzUxMUVDOTZDOUIyNzMxNjE3N0JEMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkQyMUNDMkY4RUJDNTExRUM5NkM5QjI3MzE2MTc3QkQxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkQyMUNDMkY5RUJDNTExRUM5NkM5QjI3MzE2MTc3QkQxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQABgQEBAUEBgUFBgkGBQYJCwgG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",mode:"aspectFill"}))])),_:1}),f(b)?(t(),A(e,{key:0,class:"text"},{default:c((()=>[u(e,{class:"nickname"},{default:c((()=>[n(o(f(Z).nickname||f(Z).username||f(Z).mobile),1)])),_:1}),u(e,{class:"year"},{default:c((()=>[u(r,{date:f(Z).register_date,threshold:[3600,3122064e6]},null,8,["date"]),n(" 注册 ")])),_:1})])),_:1})):(t(),A(e,{key:1,class:"text"},{default:c((()=>[u(e,{class:"nickname"},{default:c((()=>[n("点击登录")])),_:1})])),_:1}))])),_:1}),u(e,{class:"more"},{default:c((()=>[u(I,{class:"iconfont icon-a-10-you"})])),_:1})])),_:1}),u(e,{class:"bg"},{default:c((()=>[f(b)&&f(Z).avatar_file&&f(Z).avatar_file.url?(t(),A(s,{key:0,src:f(Z).avatar_file.url,mode:"aspectFill"},null,8,["src"])):d("",!0)])),_:1})])),_:1}),u(e,{class:"main"},{default:c((()=>[u(e,{class:"info"},{default:c((()=>[u(e,{class:"item"},{default:c((()=>[u(I,null,{default:c((()=>[n(o(R.value),1)])),_:1}),n(" 获赞 ")])),_:1}),u(e,{class:"item"},{default:c((()=>[u(I,null,{default:c((()=>[n("11")])),_:1}),n(" 评论 ")])),_:1}),u(e,{class:"item"},{default:c((()=>[u(I,null,{default:c((()=>[n(o(v.value),1)])),_:1}),n(" 发文 ")])),_:1})])),_:1}),u(e,{class:"list"},{default:c((()=>[u(e,{class:"group"},{default:c((()=>[u(e,{class:"item",onClick:N},{default:c((()=>[u(e,{class:"left"},{default:c((()=>[u(I,{class:"iconfont icon-a-24-bianji"}),u(I,{class:"text"},{default:c((()=>[n("我的长文")])),_:1})])),_:1}),u(e,{class:"right"},{default:c((()=>[u(I,{class:"iconfont icon-a-10-you"})])),_:1})])),_:1}),u(e,{class:"item",onClick:h},{default:c((()=>[u(e,{class:"left"},{default:c((()=>[u(I,{class:"iconfont icon-a-106-xihuan"}),u(I,{class:"text"},{default:c((()=>[n("我的点赞")])),_:1})])),_:1}),u(e,{class:"right"},{default:c((()=>[u(I,{class:"iconfont icon-a-10-you"})])),_:1})])),_:1}),u(e,{class:"item"},{default:c((()=>[u(e,{class:"left"},{default:c((()=>[u(I,{class:"iconfont icon-a-21-xiugai"}),u(I,{class:"text"},{default:c((()=>[n("评论过的")])),_:1})])),_:1}),u(e,{class:"right"},{default:c((()=>[u(I,{class:"iconfont icon-a-10-you"})])),_:1})])),_:1})])),_:1}),u(e,{class:"group"},{default:c((()=>[u(e,{class:"item"},{default:c((()=>[u(e,{class:"left"},{default:c((()=>[u(I,{class:"iconfont icon-a-32-wenjian"}),u(I,{class:"text"},{default:c((()=>[n("关于")])),_:1})])),_:1}),u(e,{class:"right"},{default:c((()=>[u(I,{class:"iconfont icon-a-10-you"})])),_:1})])),_:1}),u(e,{class:"item",onClick:z},{default:c((()=>[u(e,{class:"left"},{default:c((()=>[u(I,{class:"iconfont icon-a-5-xinxi"}),u(I,{class:"text"},{default:c((()=>[n("意见反馈")])),_:1})])),_:1}),u(e,{class:"right"},{default:c((()=>[u(I,{class:"iconfont icon-a-10-you"})])),_:1})])),_:1})])),_:1}),u(e,{class:"group"},{default:c((()=>[u(e,{class:"item",onClick:y},{default:c((()=>[u(e,{class:"left"},{default:c((()=>[u(I,{class:"iconfont icon-a-73-tuichu"}),u(I,{class:"text"},{default:c((()=>[n("退出登录")])),_:1})])),_:1}),u(e,{class:"right"},{default:c((()=>[u(I,{class:"iconfont icon-a-10-you"})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-ee695481"]]);export{Z as default};
