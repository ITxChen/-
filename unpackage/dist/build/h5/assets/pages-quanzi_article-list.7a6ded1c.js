import{D as e,ag as a,z as t,o as s,c as o,w as l,i,f as r,a as n,t as d,g as u,h as c,F as m,d as _,r as f,l as p}from"./index-071c8e17.js";import{_ as h,a as b}from"./uni-list.2fc3efd0.js";import{r as k}from"./uni-app.es.af5b3bc2.js";import{_ as g}from"./uni-load-more.3f66e2bf.js";import{_ as j}from"./unicloud-db.4743e108.js";import{_ as w}from"./_plugin-vue_export-helper.1b428a4d.js";import"./uni-icons.c3f4a5ee.js";e.database();const y=w({data:()=>({collectionList:"quanzi_article",loadMore:{contentdown:"",contentrefresh:"",contentnomore:""}}),onPullDownRefresh(){this.$refs.udb.loadData({clear:!0},(()=>{a()}))},onReachBottom(){this.$refs.udb.loadMore()},methods:{handleItemClick(e){t({url:"/pages/detail/detail?id="+e})},fabClick(){t({url:"./add",events:{refreshData:()=>{this.$refs.udb.loadData({clear:!0})}}})}}},[["render",function(e,a,t,w,y,C){const D=i,v=p,x=k(f("uni-list-item"),h),M=k(f("uni-list"),b),$=k(f("uni-load-more"),g),z=k(f("unicloud-db"),j);return s(),o(D,{class:"container"},{default:l((()=>[r(z,{ref:"udb",where:"user_id==$cloudEnv_uid",orderby:"publish_date desc",collection:y.collectionList,field:"user_id,title,description,province,content,excerpt,article_status,last_comment_user_id,picurls,publish_date,last_modify_date"},{default:l((({data:e,pagination:a,loading:t,hasMore:i,error:f})=>[f?(s(),o(D,{key:0},{default:l((()=>[n(d(f.message),1)])),_:2},1024)):e?(s(),o(D,{key:1},{default:l((()=>[r(M,null,{default:l((()=>[(s(!0),u(m,null,c(e,((e,a)=>(s(),o(x,{key:a,showArrow:"",clickable:!0,onClick:a=>C.handleItemClick(e._id)},{body:l((()=>[r(v,null,{default:l((()=>[n(d(e.title),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)])),_:2},1024)):_("",!0),r($,{status:t?"loading":i?"more":"noMore"},null,8,["status"])])),_:1},8,["collection"])])),_:1})}]]);export{y as default};
