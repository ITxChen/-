import{D as e,m as a,a4 as t,p as l,o as s,c as o,w as i,i as m,f as n,g as r,h as u,F as c,q as d}from"./index-071c8e17.js";import{g as p}from"./tool.6da0bed1.js";import{a as _,c as v}from"./comment-frame.4aca7f64.js";import{_ as f}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.92485f2b.js";import"./uni-app.es.af5b3bc2.js";import"./uni-dateformat.fdd7d24f.js";import"./uni-easyinput.06277378.js";import"./uni-icons.c3f4a5ee.js";const y=f({__name:"replay",setup(f){const y=e.database(),j=a({});j.value=t("replyItem");const g=a({article_id:j.value.article_id,comment_type:1,reply_user_id:j.value.user_id[0]._id,reply_comment_id:j.value._id}),h=a([]),w=()=>{let e=y.collection("quanzi_comment").where(`article_id == "${j.value.article_id}" && comment_type == 1 && \nreply_comment_id == "${j.value._id}" `).orderBy("comment_date desc").getTemp(),a=y.collection("uni-id-users").field("_id,username,nickname,avatar_file").getTemp();y.collection(e,a).get().then((e=>{console.log(e),h.value=e.result.data}))},x=()=>{h.value=[],w()};return l((()=>{w()})),(e,a)=>{const t=m;return s(),o(t,{class:"reply"},{default:i((()=>[n(t,{class:"top"},{default:i((()=>[n(_,{item:j.value},null,8,["item"])])),_:1}),n(t,{class:"list"},{default:i((()=>[(s(!0),r(c,null,u(h.value,(e=>(s(),o(t,{class:"row",key:e},{default:i((()=>[n(_,{item:e},null,8,["item"])])),_:2},1024)))),128))])),_:1}),n(t,null,{default:i((()=>[n(v,{onCommentEnv:x,placeholder:`回复:${d(p)(j.value)}`,comment:g.value},null,8,["placeholder","comment"])])),_:1})])),_:1})}}},[["__scopeId","data-v-5dc34707"]]);export{y as default};
