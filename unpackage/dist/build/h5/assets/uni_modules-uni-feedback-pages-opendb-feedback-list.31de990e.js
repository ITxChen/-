import{ag as a,z as o,o as e,c as t,w as n,i as s,f as l,a as i,t as r,g as d,h as u,F as c,d as f,r as m,l as b}from"./index-071c8e17.js";import{_ as p,a as h}from"./uni-list.2fc3efd0.js";import{r as _}from"./uni-app.es.af5b3bc2.js";import{_ as k}from"./uni-load-more.3f66e2bf.js";import{_ as g}from"./unicloud-db.4743e108.js";import{_ as C}from"./uni-fab.cb1777f2.js";import{_ as j}from"./_plugin-vue_export-helper.1b428a4d.js";import"./uni-icons.c3f4a5ee.js";const w=j({data:()=>({loadMore:{contentdown:"",contentrefresh:"",contentnomore:""}}),onPullDownRefresh(){this.$refs.udb.loadData({clear:!0},(()=>{a()}))},onReachBottom(){this.$refs.udb.loadMore()},methods:{handleItemClick(a){o({url:"./detail?id="+a})},fabClick(){o({url:"./opendb-feedback",events:{refreshData:()=>{this.$refs.udb.loadData({clear:!0})}}})}}},[["render",function(a,o,j,w,y,D){const M=s,v=b,x=_(m("uni-list-item"),p),F=_(m("uni-list"),h),$=_(m("uni-load-more"),k),z=_(m("unicloud-db"),g),A=_(m("uni-fab"),C);return e(),t(M,{class:"container"},{default:n((()=>[l(z,{ref:"udb",collection:"opendb-feedback",field:"content,imgs,contact,mobile"},{default:n((({data:a,pagination:o,loading:s,hasMore:m,error:b})=>[b?(e(),t(M,{key:0},{default:n((()=>[i(r(b.message),1)])),_:2},1024)):a?(e(),t(M,{key:1},{default:n((()=>[l(F,null,{default:n((()=>[(e(!0),d(c,null,u(a,((a,o)=>(e(),t(x,{key:o,showArrow:"",clickable:!0,onClick:o=>D.handleItemClick(a._id)},{body:n((()=>[l(v,null,{default:n((()=>[i(r(a.content),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)])),_:2},1024)):f("",!0),l($,{status:s?"loading":m?"more":"noMore"},null,8,["status"])])),_:1},512),l(A,{ref:"fab",horizontal:"right",vertical:"bottom","pop-menu":!1,onFabClick:D.fabClick},null,8,["onFabClick"])])),_:1})}]]);export{w as default};
